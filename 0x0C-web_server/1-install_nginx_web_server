#!/bin/bash
# Script to install and configure Nginx to serve "Hello World!" on Ubuntu

# Update package list and install nginx
apt-get update -y
apt-get install nginx -y

# Ensure Nginx is listening on port 80 (default configuration)
sed -i 's/listen 80 default_server;/listen 80;/' /etc/nginx/sites-available/default
sed -i 's/listen \[::\]:80 default_server;/listen \[::\]:80;/' /etc/nginx/sites-available/default

# Configure the root location to serve "Hello World!"
echo "Hello World!" > /var/www/html/index.html

# Reload nginx to apply changes without using systemctl
nginx -s reload

# Verify nginx is running (optional check)
if curl -s localhost | grep -q "Hello World!"; then
    echo "Nginx configured successfully!"
else
    echo "Nginx configuration failed."
fi

